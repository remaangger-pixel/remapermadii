<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Anvi Create - Streaming Platform</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
:root {
  --bg: #060606;
  --card: #121212;
  --accent: #ff0513;
  --text: #ffffff;
  --muted: #888888;
}

body {
  margin: 0; background: var(--bg); color: var(--text);
  font-family: 'Inter', sans-serif; overflow-x: hidden;
}

/* NAVBAR */
header {
  padding: 15px 5%; background: rgba(0,0,0,0.9);
  display: flex; justify-content: space-between; align-items: center;
  position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #111;
}
.logo { font-size: 22px; font-weight: 900; color: #fff; text-decoration: none; }
.logo span { color: var(--accent); }

.nav-links { display: flex; gap: 20px; align-items: center; }
.nav-links a { color: var(--text); text-decoration: none; font-size: 14px; font-weight: 500; }
.btn-adult { 
  background: #1a1a1a; padding: 8px 15px; border-radius: 6px; 
  color: #555 !important; font-size: 12px !important; border: 1px solid #222;
  cursor: pointer; transition: 0.3s;
}
.btn-adult:hover { color: var(--accent) !important; border-color: var(--accent); }

/* HERO BANNER */
.hero {
  height: 65vh; width: 100%; position: relative;
  background: url('https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?q=80&w=2070') center/cover;
  display: flex; align-items: center; padding: 0 5%;
}
.hero::after {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(to right, var(--bg) 20%, transparent), 
              linear-gradient(to top, var(--bg), transparent);
}
.hero-content { position: relative; z-index: 2; max-width: 600px; }
.hero-content h1 { font-size: clamp(30px, 6vw, 50px); margin: 0; }

/* GRID LAYOUT */
.container { padding: 40px 5%; }
.section-title { font-size: 20px; margin-bottom: 25px; border-left: 4px solid var(--accent); padding-left: 15px; }

.grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 20px;
}

.card {
  background: var(--card); border-radius: 12px; overflow: hidden;
  transition: 0.3s; cursor: pointer; border: 1px solid #1a1a1a;
  position: relative;
}
.card:hover { transform: scale(1.05); border-color: var(--accent); }
.card img { width: 100%; height: 240px; object-fit: cover; }
.card-info { padding: 12px; }
.card-info div { font-size: 14px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
</style>
</head>
<body>

<header>
  <a href="index.html" class="logo">ANVI<span>CREATE</span></a>
  <div class="nav-links">
    <a href="#movies">Movies</a>
    <a href="#series">Series</a>
    <div class="btn-adult" onclick="enterAdultGate()">VIP Area</div>
  </div>
</header>

<div class="hero">
  <div class="hero-content">
    <h1>Unlimited Movies & TV Shows</h1>
    <p style="color:var(--muted); margin: 20px 0;">Tonton koleksi film terbaru berkualitas HD secara gratis hanya di Anvi Create.</p>
  </div>
</div>

<div class="container" id="movies">
  <h2 class="section-title">Latest Movies</h2>
  <div class="grid" id="movieList"></div>

  <h2 class="section-title" style="margin-top: 60px;" id="series">Popular Series</h2>
  <div class="grid" id="seriesList"></div>
</div>

<script>
const SUPABASE_URL = "https://xvktodveoxnuelhtzaog.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh2a3RvZHZlb3hudWVsaHR6YW9nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3NzEzMjAsImV4cCI6MjA4NTM0NzMyMH0.WUvB6oKtKxxgO-5z0SH8uBUQx9c3Gn6r170qxGeKWTI";
const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

async function loadContent() {
  // Load Movies (Hanya yang BUKAN 18+)
  const { data: movies } = await sb.from("Movies")
    .select("*")
    .eq("is18", false)
    .order("created_at", { ascending: false });

  const mList = document.getElementById("movieList");
  mList.innerHTML = "";
  movies.forEach(m => {
    mList.innerHTML += `
      <div class="card" onclick="location.href='player.html?id=${m.id}'">
        <img src="${m.thumb}">
        <div class="card-info"><div>${m.title}</div></div>
      </div>`;
  });

  // Load Series
  const { data: series } = await sb.from("Series")
    .select("*")
    .eq("is18", false)
    .order("created_at", { ascending: false });

  const sList = document.getElementById("seriesList");
  sList.innerHTML = "";
  series.forEach(s => {
    sList.innerHTML += `
      <div class="card" onclick="location.href='series.html?id=${s.id}'">
        <img src="${s.thumb}">
        <div class="card-info"><div>${s.title}</div></div>
      </div>`;
  });
}

/* üîê PINTU RAHASIA 18+ */
function enterAdultGate() {
  const pin = prompt("Konfirmasi Umur (Masukkan PIN Keamanan):");
  
  // Silakan ganti "2026" dengan PIN yang kamu mau
  if (pin === "2026") {
    sessionStorage.setItem('adultAccess', 'true');
    window.location.href = 'adult.html';
  } else if (pin !== null) {
    alert("PIN Salah atau Anda belum cukup umur!");
  }
}

loadContent();
</script>
</body>
</html>
